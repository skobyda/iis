(this.webpackJsonpiis=this.webpackJsonpiis||[]).push([[0],{60:function(e,a,t){},84:function(e,a,t){e.exports=t(97)},89:function(e,a,t){},90:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),s=t.n(l),o=(t(89),t(11)),i=t(12),c=t(13),u=t(15),h=t(14),d=t(5),p=t(16),m=(t(90),t(145)),g=t(150),b=t(146),y=t(131),f=t(149),E=t(154),v=t(136),C=t(135),O=t(134),k=t(138),w=t(147),S=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,email:e.player.email,nick:e.player.nick},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.delete=t.delete.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"delete",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.state,n={action:"editPlayer",arguments:{email:t.email,nick:t.nick,active:0}},r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);if(t.result&&"Error"!==t.result){a("loggedUser",null);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("users",e)}},n.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),n.send('{"action":"getPlayer","arguments":{"active":1}}')}e()}},l.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(r)}},{key:"render",value:function(){var e=this.props.id+"-delete-player";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,color:"secondary"},"Delete"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-dialog",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-dialog-title"},"Account Deletion"),r.a.createElement(C.a,null,"Do you really wish to delete your profile?"),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-delete",onClick:this.delete,color:"secondary"},"Delete"))))}}]),a}(r.a.Component),j=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.logout=t.logout.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"logout",value:function(){this.props.appOnValueChanged("loggedUser",void 0)}},{key:"render",value:function(){var e=this.props.id+"-logout";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open},"Logout"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-dialog",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-dialog-title"},"Logout"),r.a.createElement(C.a,null,"Do you really wish to logout?"),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-edit-profile",onClick:this.logout,color:"primary"},"Logout"))))}}]),a}(r.a.Component),V=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,email:e.loggedUser.email,nick:e.loggedUser.nick,name:e.loggedUser.name,surname:e.loggedUser.surname,password:"",gender:e.loggedUser.gender,birthDate:e.loggedUser.birthDate,country:e.loggedUser.country},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.editProfile=t.editProfile.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){"country"===e&&a.length>2&&(a=a.substring(0,2)),this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"editProfile",value:function(){var e=this.close,a=this.onValueChanged,t=this.props.appOnValueChanged,n=this.state,r=n.email,l=n.nick,s=n.name,o=n.surname,i=n.password,c=n.gender,u=n.birthDate,h=n.country,d={email:r,nick:l,name:s,surname:o,gender:c,birthDate:u,country:h};i.length>0&&(d.password=i);var p={action:"editPlayer",arguments:d},m=JSON.stringify(p),g=new XMLHttpRequest;g.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var l={action:"getPlayer",arguments:{email:r}},s=JSON.stringify(l),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);t("loggedUser",e[0])}},o.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),o.send(s),e()}else a("errorMessage",n.message)}},g.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),g.send(m)}},{key:"render",value:function(){var e=this,a=this.props.id+"=registration";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open},"Edit Profile"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-dialog",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:a+"-dialog-title"},"Edit Profile"),r.a.createElement(C.a,null,r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},autoFocus:!0,margin:"dense",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-nick",label:"Nick",value:this.state.nick,onChange:function(a){return e.onValueChanged("nick",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-name",label:"Name",value:this.state.name,onChange:function(a){return e.onValueChanged("name",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-surname",label:"Surname",value:this.state.surname,onChange:function(a){return e.onValueChanged("surname",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-password",label:"New Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-gender",select:!0,label:"Gender",value:this.state.gender,onChange:function(a){return e.onValueChanged("gender",a.target.value)},fullWidth:!0},r.a.createElement(k.a,{key:"F",value:"F"},"Female"),r.a.createElement(k.a,{key:"M",value:"M"},"Male"))),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-birthDate",label:"Date of birth",type:"date",value:this.state.birthDate,onChange:function(a){return e.onValueChanged("birthDate",a.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-country",label:"Country code",value:this.state.country,onChange:function(a){return e.onValueChanged("country",a.target.value)},fullWidth:!0})),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:a+"-action-edit-profile",onClick:this.editProfile,color:"primary"},"Save"))))}}]),a}(r.a.Component),M=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,email:"",nick:"",password:"",repeatPassword:"",gender:"",birthDate:void 0,errorMessage:""},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.register=t.register.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"register",value:function(){var e=this.onValueChanged,a=this.close,t=this.state,n={action:"register",arguments:{email:t.email,password:t.password}},r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);t.result&&"Error"!==t.result?a():e("errorMessage",t.message)}},l.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(r)}},{key:"render",value:function(){var e=this,a=this.props.id+"=registration";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open},"Register"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-dialog",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:a+"-dialog-title"},"Registration"),r.a.createElement(C.a,null,r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},autoFocus:!0,margin:"dense",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-password",label:"Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:a+"-action-register",onClick:this.register,color:"primary"},"Register"))))}}]),a}(r.a.Component),x=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,email:"",password:""},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.login=t.login.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"login",value:function(){var e=this.close,a=this.onValueChanged,t=this.props.appOnValueChanged,n=this.state,r=n.email,l=n.password,s={action:"login",arguments:{email:r,password:l}},o=JSON.stringify(s),i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var l={action:"getPlayer",arguments:{email:r}},s=JSON.stringify(l),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);t("loggedUser",e[0])}},o.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),o.send(s),e()}else a("errorMessage",n.message)}},i.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),i.send(o)}},{key:"render",value:function(){var e=this,a=this.props.id+"-login";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open},"Login"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:a+"-modal-title"},"User Login"),r.a.createElement(C.a,null,r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-password",label:"Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:a+"-action-login",onClick:this.login,color:"primary"},"Login"))))}}]),a}(r.a.Component),T=function(e){var a=e.appOnValueChanged,t=e.loggedUser,n="user-panel";return t?r.a.createElement(f.a,{display:"flex",m:1,p:1,bgcolor:"background.paper",css:{float:"right"}},r.a.createElement(V,{id:n,appOnValueChanged:a,loggedUser:t}),r.a.createElement(j,{id:n,appOnValueChanged:a}),r.a.createElement(S,{id:n,appOnValueChanged:a,player:t})):r.a.createElement(f.a,{display:"flex",m:1,p:1,bgcolor:"background.paper",css:{float:"right"}},r.a.createElement(x,{id:n,appOnValueChanged:a}),r.a.createElement(M,{id:n}))},I=t(71),N=t(153),W=t(142),U=t(141),P=t(143),z=t(35),J=t.n(z),F=t(137),R=t(99),L=t(140),q=t(139),H=t(152),X=t(144),_=(t(60),function(e){var a=e.id,t=e.state,n=e.onValueChanged;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-name",label:"Name",value:t.name,onChange:function(e){return n("name",e.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-teamSize",label:"Players per team",value:t.teamSize,onChange:function(e){return n("teamSize",e.target.value)},type:"number",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-capacity",label:"Max number of teams",value:t.capacity,onChange:function(e){return n("capacity",e.target.value)},type:"number",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-prizes",label:"Prizes",value:t.prizes,onChange:function(e){return n("prizes",e.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-ageCategory",select:!0,label:"Age category",value:t.ageCategory,onChange:function(e){return n("ageCategory",e.target.value)},fullWidth:!0},r.a.createElement(k.a,{key:"Everyone",value:"Everyone"},"Everyone"),r.a.createElement(k.a,{key:"Juniors",value:"Juniors"},"Juniors"),r.a.createElement(k.a,{key:"Adults",value:"Adults"},"Adults"),r.a.createElement(k.a,{key:"Seniors",value:"Seniors"},"Seniors"))),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-sexCategory",select:!0,label:"Sex category",value:t.sexCategory,onChange:function(e){return n("sexCategory",e.target.value)},fullWidth:!0},r.a.createElement(k.a,{key:"N",value:"N"},"All"),r.a.createElement(k.a,{key:"F",value:"F"},"Female"),r.a.createElement(k.a,{key:"M",value:"M"},"Male"))),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-registrationFee",label:"Registration fee (eur)",value:t.registrationFee,onChange:function(e){return n("registrationFee",e.target.value)},fullWidth:!0,type:"number"})))}),D=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,name:"",capacity:8,ageCategory:"Everyone",sexCategory:"N",teamSize:5,prizes:"",registrationFee:0},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.create=t.create.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"create",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state,r=n.name,l=n.capacity,s=n.ageCategory,o=n.sexCategory,i=n.teamSize,c=n.prizes,u=n.registrationFee,h={action:"createTournament",arguments:{email:this.props.loggedUser.email,name:r,capacity:l,ageCategory:s,sexCategory:o,teamSize:i,prizes:c,registrationFee:u}},d=JSON.stringify(h),p=new XMLHttpRequest;p.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},p.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),p.send(d)}},{key:"render",value:function(){var e="create";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained",color:"primary"},"Create Tournament"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Create Tournament"),r.a.createElement(C.a,null,r.a.createElement(_,{id:e,state:this.state,onValueChanged:this.onValueChanged}),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-create",onClick:this.create,color:"primary"},"Create"))))}}]),a}(r.a.Component),A=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,name:e.tournament.name,capacity:e.tournament.capacity,ageCategory:e.tournament.ageCategory,sexCategory:e.tournament.sexCategory,teamSize:e.tournament.teamSize,prizes:e.tournament.prizes,registrationFee:e.tournament.registrationFee},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.save=t.save.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"save",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state,r=n.name,l=n.capacity,s=n.ageCategory,o=n.sexCategory,i=n.teamSize,c=n.prizes,u=n.registrationFee,h={name:this.props.tournament.name,capacity:l,ageCategory:s,sexCategory:o,teamSize:i,prizes:c,registrationFee:u};this.props.tournament.name!==r&&(h.newName=r);var d={action:"editTournament",arguments:h},p=JSON.stringify(d),m=new XMLHttpRequest;m.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},m.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),m.send(p)}},{key:"render",value:function(){var e=this.props.tournament.id+"-edit";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained"},"Edit"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Edit Tournament Details"),r.a.createElement(C.a,null,r.a.createElement(_,{id:e,state:this.state,onValueChanged:this.onValueChanged}),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-save",onClick:this.save,color:"primary"},"Save"))))}}]),a}(r.a.Component),B=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.join=t.join.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"join",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n={action:"addReferee",arguments:{tournament:this.props.tournament.name,email:this.props.loggedUser.email}},r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},l.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(r)}},{key:"render",value:function(){var e=this.props.tournament.id+"-join";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained"},"Sign Up as Referee"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Sign Up as a Referee"),r.a.createElement(C.a,null,"Join as a referee?",r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-join",onClick:this.join,color:"primary"},"Join"))))}}]),a}(r.a.Component),G=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,teams:e.loggedUsersTeams,selected:[]},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.submit=t.submit.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"submit",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n={action:"joinTournament",arguments:{tournament:this.props.tournament.name,team:this.state.selected[0]}},r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},l.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(r)}},{key:"render",value:function(){var e=this,a=this.props.tournament.id+"-join",t=function(a){return function(){var t=e.state.selected.indexOf(a),n=Object(I.a)(e.state.selected);-1===t?n=[a]:n.splice(t,1),e.setState({selected:n})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained",disabled:0===this.state.teams.length},"Register Team"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:a+"-modal-title"},"Teams Requesting Participation in Tournament"),r.a.createElement(C.a,null,"Choose a team to sign up for a tournament:",r.a.createElement(F.a,null,this.state.teams.map((function(a){var n="checkbox-list-label-".concat(a.name);return r.a.createElement(R.a,{key:a.name,role:void 0,dense:!0,button:!0,onClick:t(a.name)},r.a.createElement(q.a,{id:n,primary:"".concat(a.name)}),r.a.createElement(L.a,null,r.a.createElement(H.a,{edge:"start",checked:-1!==e.state.selected.indexOf(a.name),onChange:t(a.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})))}))),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:a+"-action-submit",onClick:this.submit,color:"primary"},"Register Team"))))}}]),a}(r.a.Component),$=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"render",value:function(){var e=this,a=this.props.tournaments.map((function(a){return function(a){var t=[];e.props.loggedUser&&(t=e.props.teams.filter((function(a){return a.founder===e.props.loggedUser.email})));var n=a.teams.map((function(e){return e.name})).join(", "),l=a.referees.map((function(e){return e.email})).join(", ");return r.a.createElement(N.a,{key:a.name},r.a.createElement(U.a,{expandIcon:r.a.createElement(J.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},a.name),r.a.createElement(W.a,null,r.a.createElement("table",{id:"my-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Max number of teams:")," ",a.capacity),r.a.createElement("td",null,r.a.createElement("b",null,"Age category:")," ",a.ageCategory),r.a.createElement("td",null,r.a.createElement("b",null,"Sex category:")," ","M"===a.sexCategory?"Male":"Female")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Team size:")," ",a.teamSize," players"),r.a.createElement("td",null,r.a.createElement("b",null,"Prize:")," ",a.prizes),r.a.createElement("td",null,r.a.createElement("b",null,"Registration fee:")," ",a.registrationFee," eur")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Referee(s):")," ",l),r.a.createElement("td",null,r.a.createElement("b",null,"Teams:")," ",n))))),e.props.loggedUser&&r.a.createElement(P.a,null,r.a.createElement(G,{tournament:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged,loggedUsersTeams:t}),r.a.createElement(B,{tournament:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged}),(e.props.loggedUser.email===a.founder||"admin"===e.props.loggedUser.nick)&&r.a.createElement(A,{tournament:a,appOnValueChanged:e.props.appOnValueChanged})))}(a)}));return r.a.createElement(X.a,{container:!0,spacing:3},this.props.loggedUser&&r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement(f.a,{display:"flex",css:{float:"right"}},r.a.createElement(D,{loggedUser:this.props.loggedUser,appOnValueChanged:this.props.appOnValueChanged}))),r.a.createElement(X.a,{item:!0,xs:12},a))}}]),a}(r.a.Component),K=function(e){var a=e.id,t=e.state,n=e.onValueChanged;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-name",label:"Name",value:t.name,onChange:function(e){return n("name",e.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"}))},Q=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,name:"",players:["Afghanistan"]},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.create=t.create.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"create",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state.name,r={action:"createTeam",arguments:{email:this.props.loggedUser.email,name:n}},l=JSON.stringify(r),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("teams",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTeam","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},s.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),s.send(l)}},{key:"render",value:function(){var e="create";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained",color:"primary"},"Create Team"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Create Team"),r.a.createElement(C.a,null,r.a.createElement(K,{id:e,state:this.state,onValueChanged:this.onValueChanged}),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-create",onClick:this.create,color:"primary"},"Create"))))}}]),a}(r.a.Component),Y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,name:e.team.name,players:e.team.players},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.save=t.save.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"save",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state.name;if(n!==this.props.team.name){var r={action:"editTeam",arguments:{name:this.props.team.name,newName:n}},l=JSON.stringify(r),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("teams",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTeam","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},s.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),s.send(l)}this.close()}},{key:"render",value:function(){var e=this.props.team.id+"-edit";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained"},"Edit"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Edit Team Details"),r.a.createElement(C.a,null,r.a.createElement(K,{id:e,state:this.state,onValueChanged:this.onValueChanged}),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-save",onClick:this.save,color:"primary"},"Save"))))}}]),a}(r.a.Component),Z=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.join=t.join.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"join",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n={action:"leaveTeam",arguments:{email:this.props.loggedUser.email,team:this.props.team.name}},r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("teams",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTeam","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},l.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(r)}},{key:"render",value:function(){var e=this.props.team.id+"-join";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained",color:"secondary"},"Leave"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Leave Team"),r.a.createElement(C.a,null,"Leave this team?",r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-join",onClick:this.join,color:"secondary"},"Leave"))))}}]),a}(r.a.Component),ee=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.join=t.join.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"join",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n={action:"joinTeam",arguments:{email:this.props.loggedUser.email,team:this.props.team.name}},r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("teams",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getTeam","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},l.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(r)}},{key:"render",value:function(){var e=this.props.team.id+"-join";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained"},"Join"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:e+"-modal-title"},"Request Team Membership"),r.a.createElement(C.a,null,"Join this team?",r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:e+"-action-join",onClick:this.join,color:"secondary"},"Join"))))}}]),a}(r.a.Component),ae=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"render",value:function(){var e=this,a=this.props.teams.map((function(a){return function(a){var t=a.players.map((function(e){return e.nick?e.nick:e.emal})),n=t.join(", ");return r.a.createElement(N.a,{key:a.name},r.a.createElement(U.a,{expandIcon:r.a.createElement(J.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},a.name),r.a.createElement(W.a,null,r.a.createElement("table",{id:"my-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Players:")," ",n),r.a.createElement("td",null,r.a.createElement("b",null,"Founded:")," ",a.founded))))),e.props.loggedUser&&r.a.createElement(P.a,null,!t.includes(e.props.loggedUser.nick)&&r.a.createElement(ee,{team:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged}),t.includes(e.props.loggedUser.nick)&&r.a.createElement(Z,{team:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged}),(e.props.loggedUser.email===a.founder||"admin"===e.props.loggedUser.nick)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{team:a,appOnValueChanged:e.props.appOnValueChanged}))))}(a)}));return r.a.createElement(X.a,{container:!0,spacing:3},this.props.loggedUser&&r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement(f.a,{display:"flex",css:{float:"right"}},r.a.createElement(Q,{loggedUser:this.props.loggedUser,appOnValueChanged:this.props.appOnValueChanged}))),r.a.createElement(X.a,{item:!0,xs:12},a))}}]),a}(r.a.Component),te=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={showModal:!1,email:e.player.email,nick:e.player.nick,name:e.player.name,surname:e.player.surname,password:"",gender:e.player.gender,birthDate:e.player.birthDate,country:e.player.country},t.open=t.open.bind(Object(d.a)(t)),t.close=t.close.bind(Object(d.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t.edit=t.edit.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){"country"===e&&a.length>2&&(a=a.substring(0,2)),this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"edit",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state,r=n.email,l=n.nick,s=n.name,o=n.surname,i=n.password,c={email:r,nick:l,name:s,surname:o,gender:n.gender,birthDate:n.birthDate,country:n.country};i.length>0&&(c.password=i);var u={action:"editPlayer",arguments:c},h=JSON.stringify(u),d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("users",e)}},r.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send('{"action":"getPlayer","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},d.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),d.send(h)}},{key:"render",value:function(){var e=this,a=this.props.id+"=registration";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:this.open,variant:"contained"},"Edit"),r.a.createElement(E.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-dialog",maxWidth:"sm",fullWidth:!0},r.a.createElement(O.a,{id:a+"-dialog-title"},"Edit User"),r.a.createElement(C.a,null,r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},autoFocus:!0,margin:"dense",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-nick",label:"Nick",value:this.state.nick,onChange:function(a){return e.onValueChanged("nick",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-name",label:"Name",value:this.state.name,onChange:function(a){return e.onValueChanged("name",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-surname",label:"Surname",value:this.state.surname,onChange:function(a){return e.onValueChanged("surname",a.target.value)},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-password",label:"New Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-gender",select:!0,label:"Gender",value:this.state.gender,onChange:function(a){return e.onValueChanged("gender",a.target.value)},fullWidth:!0},r.a.createElement(k.a,{key:"F",value:"F"},"Female"),r.a.createElement(k.a,{key:"M",value:"M"},"Male"))),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-birthDate",label:"Date of birth",type:"date",value:this.state.birthDate,onChange:function(a){return e.onValueChanged("birthDate",a.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0})),r.a.createElement(f.a,{m:1,component:"span",display:"block"},r.a.createElement(w.a,{id:a+"-country",label:"Country code",value:this.state.country,onChange:function(a){return e.onValueChanged("country",a.target.value)},fullWidth:!0})),r.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&r.a.createElement("br",null),this.state.errorMessage)),r.a.createElement(v.a,null,r.a.createElement(y.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),r.a.createElement(y.a,{id:a+"-action-edit",onClick:this.edit,color:"primary"},"Save"))))}}]),a}(r.a.Component),ne=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"render",value:function(){var e=this,a=this.props.users.map((function(a){return function(a){if(!a.nick)return null;var t,n=e.props.teams.filter((function(e){for(var t=0;t<e.players.length;t++)if(e.players[t].nick===a.nick)return!0;return!1}));return(n=n.map((function(e){return e.name})))&&(t=n.join(", ")),r.a.createElement(N.a,{key:a.nick},r.a.createElement(U.a,{expandIcon:r.a.createElement(J.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},a.nick),r.a.createElement(W.a,null,r.a.createElement("table",{id:"my-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Name:")," ",a.name),r.a.createElement("td",null,r.a.createElement("b",null,"Surname:")," ",a.surname),r.a.createElement("td",null,r.a.createElement("b",null,"Team(s):")," ",t," ")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Country:")," ",a.country),r.a.createElement("td",null,r.a.createElement("b",null,"Born:")," ",a.birthDate),r.a.createElement("td",null,r.a.createElement("b",null,"Sex:")," ","M"===a.gender?"Male":"Female"))))),e.props.loggedUser&&r.a.createElement(P.a,null,(e.props.loggedUser.email===a.email||"admin"===e.props.loggedUser.nick)&&r.a.createElement(te,{id:"edit-user",player:a,appOnValueChanged:e.props.appOnValueChanged})))}(a)}));return r.a.createElement(r.a.Fragment,null,a)}}]),a}(r.a.Component),re=0,le=1,se=2,oe=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).state={page:0,loggedUser:void 0,users:[],teams:[],tournaments:[]},t.onValueChanged=t.onValueChanged.bind(Object(d.a)(t)),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){["tournaments","teams"].includes(e)&&a.sort((function(e,a){return e.name>a.name})),["users"].includes(e)&&a.sort((function(e,a){return e.nick>a.nick})),this.setState(Object(o.a)({},e,a))}},{key:"componentDidMount",value:function(){var e=this.onValueChanged,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("users",a)}},a.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getPlayer","arguments":{"active":1}}'),(a=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("teams",a)}},a.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getTeam","arguments":{"active":1}}'),(a=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("tournaments",a)}},a.open("POST","https://cors-anywhere.herokuapp.com/http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getTournament","arguments":{"active":1}}')}},{key:"render",value:function(){var e=this,a=this.state,t=a.loggedUser,n=a.page,l=a.users,s=a.tournaments,o=a.teams;return console.log(this.state),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(m.a,{position:"static"},r.a.createElement(g.a,{"aria-label":"menu",onChange:function(a,t){return e.onValueChanged("page",t)},value:n},r.a.createElement(b.a,{label:"Tournaments"}),r.a.createElement(b.a,{label:"Teams"}),r.a.createElement(b.a,{label:"Players"}))),r.a.createElement(T,{appOnValueChanged:this.onValueChanged,loggedUser:t})),r.a.createElement("header",{className:"App-page"},r.a.createElement("div",{className:"App-content"},n===re&&r.a.createElement($,{tournaments:s,teams:o,users:l,loggedUser:t,appOnValueChanged:this.onValueChanged}),n===le&&r.a.createElement(ae,{tournaments:s,teams:o,users:l,loggedUser:t,appOnValueChanged:this.onValueChanged}),n===se&&r.a.createElement(ne,{tournaments:s,teams:o,users:l,loggedUser:t,appOnValueChanged:this.onValueChanged}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[84,1,2]]]);
//# sourceMappingURL=main.47c724b5.chunk.js.map