(this.webpackJsonpiis=this.webpackJsonpiis||[]).push([[0],{60:function(e,a,t){},84:function(e,a,t){e.exports=t(97)},89:function(e,a,t){},90:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(10),r=t.n(s),o=(t(89),t(11)),i=t(12),c=t(13),u=t(15),d=t(14),h=t(5),m=t(16),p=(t(90),t(145)),g=t(150),b=t(146),f=t(131),E=t(149),y=t(154),v=t(136),C=t(135),O=t(134),k=t(138),w=t(147),S=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,email:e.player.email,nick:e.player.nick},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.delete=t.delete.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"delete",value:function(){var e=this.props.appOnValueChanged,a=this.state,t={action:"editPlayer",arguments:{email:a.email,nick:a.nick,active:0}},n=JSON.stringify(t),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&(console.log(this.responseText),JSON.parse(this.responseText).result)){e("loggedUser",null);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("users",a)}},a.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getPlayer","arguments":{"active":1}}')}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(n),l.send(n)}},{key:"render",value:function(){var e=this.props.id+"-delete-player";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,color:"secondary"},"Delete"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-dialog",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-dialog-title"},"Account Deletion"),l.a.createElement(C.a,null,"Do you really wish to delete your profile?"),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-delete",onClick:this.delete,color:"secondary"},"Delete"))))}}]),a}(l.a.Component),j=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.logout=t.logout.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"logout",value:function(){this.props.appOnValueChanged("loggedUser",void 0)}},{key:"render",value:function(){var e=this.props.id+"-logout";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open},"Logout"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-dialog",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-dialog-title"},"Logout"),l.a.createElement(C.a,null,"Do you really wish to logout?"),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-edit-profile",onClick:this.logout,color:"primary"},"Logout"))))}}]),a}(l.a.Component),V=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,email:e.loggedUser.email,nick:e.loggedUser.nick,name:e.loggedUser.name,surname:e.loggedUser.surname,password:"",gender:e.loggedUser.gender,birthDate:e.loggedUser.birthDate,country:e.loggedUser.country},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.editProfile=t.editProfile.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){"country"===e&&a.length>2&&(a=a.substring(0,2)),this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"editProfile",value:function(){var e=this.props.appOnValueChanged,a=this.state,t=a.email,n=a.nick,l=a.name,s=a.surname,r=a.password,o=a.gender,i=a.birthDate,c=a.country,u={email:t,nick:n,name:l,surname:s,gender:o,birthDate:i,country:c};r.length>0&&(u.password=r);var d={action:"editPlayer",arguments:u},h=JSON.stringify(d),m=new XMLHttpRequest;m.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&(console.log(this.responseText),JSON.parse(this.responseText).result)){var a={action:"getPlayer",arguments:{email:t}},n=JSON.stringify(a),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("loggedUser",a[0]),console.log(a[0])}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(n)}},m.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(h),m.send(h)}},{key:"render",value:function(){var e=this,a=this.props.id+"=registration";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open},"Edit Profile"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-dialog",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:a+"-dialog-title"},"Edit Profile"),l.a.createElement(C.a,null,l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},autoFocus:!0,margin:"dense",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-nick",label:"Nick",value:this.state.nick,onChange:function(a){return e.onValueChanged("nick",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-name",label:"Name",value:this.state.name,onChange:function(a){return e.onValueChanged("name",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-surname",label:"Surname",value:this.state.surname,onChange:function(a){return e.onValueChanged("surname",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-password",label:"New Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-gender",select:!0,label:"Gender",value:this.state.gender,onChange:function(a){return e.onValueChanged("gender",a.target.value)},fullWidth:!0},l.a.createElement(k.a,{key:"F",value:"F"},"Female"),l.a.createElement(k.a,{key:"M",value:"M"},"Male"))),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-birthDate",label:"Date of birth",type:"date",value:this.state.birthDate,onChange:function(a){return e.onValueChanged("birthDate",a.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-country",label:"Country code",value:this.state.country,onChange:function(a){return e.onValueChanged("country",a.target.value)},fullWidth:!0}))),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:a+"-action-edit-profile",onClick:this.editProfile,color:"primary"},"Save"))))}}]),a}(l.a.Component),M=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,email:"",nick:"",password:"",repeatPassword:"",gender:"",birthDate:void 0,errorMessage:""},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.register=t.register.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"register",value:function(){var e=this.onValueChanged,a=this.close,t=this.state,n={action:"register",arguments:{email:t.email,password:t.password}},l=JSON.stringify(n),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);t.result?a():e("errorMessage",t.message)}},s.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(l),s.send(l)}},{key:"render",value:function(){var e=this,a=this.props.id+"=registration";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open},"Register"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-dialog",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:a+"-dialog-title"},"Registration"),l.a.createElement(C.a,null,l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},autoFocus:!0,margin:"dense",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-password",label:"Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:a+"-action-register",onClick:this.register,color:"primary"},"Register"))))}}]),a}(l.a.Component),x=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,email:"",password:""},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.login=t.login.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"login",value:function(){var e=this.props.appOnValueChanged,a=this.state,t=a.email,n=a.password,l={action:"login",arguments:{email:t,password:n}},s=JSON.stringify(l),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&JSON.parse(this.responseText).result){var a={action:"getPlayer",arguments:{email:t}},n=JSON.stringify(a),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var a=JSON.parse(this.responseText);e("loggedUser",a[0]),console.log(a[0])}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(n)}},r.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),r.send(s)}},{key:"render",value:function(){var e=this,a=this.props.id+"-login";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open},"Login"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:a+"-modal-title"},"User Login"),l.a.createElement(C.a,null,l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-password",label:"Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0}))),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:a+"-action-login",onClick:this.login,color:"primary"},"Login"))))}}]),a}(l.a.Component),T=function(e){var a=e.appOnValueChanged,t=e.loggedUser,n="user-panel";return t?l.a.createElement(E.a,{display:"flex",m:1,p:1,bgcolor:"background.paper",css:{float:"right"}},l.a.createElement(V,{id:n,appOnValueChanged:a,loggedUser:t}),l.a.createElement(j,{id:n,appOnValueChanged:a}),l.a.createElement(S,{id:n,appOnValueChanged:a,player:t})):l.a.createElement(E.a,{display:"flex",m:1,p:1,bgcolor:"background.paper",css:{float:"right"}},l.a.createElement(x,{id:n,appOnValueChanged:a}),l.a.createElement(M,{id:n}))},I=t(71),N=t(153),P=t(142),W=t(141),U=t(143),z=t(35),J=t.n(z),R=t(137),F=t(99),L=t(140),q=t(139),H=t(152),X=t(144),_=(t(60),function(e){var a=e.id,t=e.state,n=e.onValueChanged;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-name",label:"Name",value:t.name,onChange:function(e){return n("name",e.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-teamSize",label:"Players per team",value:t.teamSize,onChange:function(e){return n("teamSize",e.target.value)},type:"number",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-capacity",label:"Max number of teams",value:t.capacity,onChange:function(e){return n("capacity",e.target.value)},type:"number",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-prizes",label:"Prizes",value:t.prizes,onChange:function(e){return n("prizes",e.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-ageCategory",select:!0,label:"Age category",value:t.ageCategory,onChange:function(e){return n("ageCategory",e.target.value)},fullWidth:!0},l.a.createElement(k.a,{key:"Everyone",value:"Everyone"},"Everyone"),l.a.createElement(k.a,{key:"Juniors",value:"Juniors"},"Juniors"),l.a.createElement(k.a,{key:"Adults",value:"Adults"},"Adults"),l.a.createElement(k.a,{key:"Seniors",value:"Seniors"},"Seniors"))),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-sexCategory",select:!0,label:"Sex category",value:t.sexCategory,onChange:function(e){return n("sexCategory",e.target.value)},fullWidth:!0},l.a.createElement(k.a,{key:"N",value:"N"},"All"),l.a.createElement(k.a,{key:"F",value:"F"},"Female"),l.a.createElement(k.a,{key:"M",value:"M"},"Male"))),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-registrationFee",label:"Registration fee (eur)",value:t.registrationFee,onChange:function(e){return n("registrationFee",e.target.value)},fullWidth:!0,type:"number"})))}),D=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,name:"",capacity:8,ageCategory:"Everyone",sexCategory:"N",teamSize:5,prizes:"",registrationFee:0},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.create=t.create.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"create",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state,l=n.name,s=n.capacity,r=n.ageCategory,o=n.sexCategory,i=n.teamSize,c=n.prizes,u=n.registrationFee,d={action:"createTournament",arguments:{email:this.props.loggedUser.email,name:l,capacity:s,ageCategory:r,sexCategory:o,teamSize:i,prizes:c,registrationFee:u}},h=JSON.stringify(d),m=new XMLHttpRequest;m.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var n=JSON.parse(this.responseText);if(n.result){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},m.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),m.send(h)}},{key:"render",value:function(){var e="create";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained",color:"primary"},"Create Tournament"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Create Tournament"),l.a.createElement(C.a,null,l.a.createElement(_,{id:e,state:this.state,onValueChanged:this.onValueChanged}),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-create",onClick:this.create,color:"primary"},"Create"))))}}]),a}(l.a.Component),A=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,name:e.tournament.name,capacity:e.tournament.capacity,ageCategory:e.tournament.ageCategory,sexCategory:e.tournament.sexCategory,teamSize:e.tournament.teamSize,prizes:e.tournament.prizes,registrationFee:e.tournament.registrationFee},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.save=t.save.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"save",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n=this.state,l=n.name,s=n.capacity,r=n.ageCategory,o=n.sexCategory,i=n.teamSize,c=n.prizes,u=n.registrationFee,d={name:this.props.tournament.name,capacity:s,ageCategory:r,sexCategory:o,teamSize:i,prizes:c,registrationFee:u};this.props.tournament.name!==l&&(d.newName=l);var h={action:"editTournament",arguments:d},m=JSON.stringify(h),p=new XMLHttpRequest;p.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var n=JSON.parse(this.responseText);if(n.result){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},p.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(m),p.send(m)}},{key:"render",value:function(){var e=this.props.tournament.id+"-edit";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained"},"Edit"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Edit Tournament Details"),l.a.createElement(C.a,null,l.a.createElement(_,{id:e,state:this.state,onValueChanged:this.onValueChanged}),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-save",onClick:this.save,color:"primary"},"Save"))))}}]),a}(l.a.Component),B=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.join=t.join.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"join",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n={action:"addReferee",arguments:{tournament:this.props.tournament.name,email:this.props.loggedUser.email}},l=JSON.stringify(n),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},s.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(l),s.send(l)}},{key:"render",value:function(){var e=this.props.tournament.id+"-join";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained"},"Sign Up as Referee"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Sign Up as a Referee"),l.a.createElement(C.a,null,"Join as a referee?",l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-join",onClick:this.join,color:"primary"},"Join"))))}}]),a}(l.a.Component),G=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,teams:e.loggedUsersTeams,selected:[]},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.submit=t.submit.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"submit",value:function(){var e=this.close,a=this.props.appOnValueChanged,t=this.onValueChanged,n={action:"joinTournament",arguments:{tournament:this.props.tournament.name,team:this.state.selected[0]}},l=JSON.stringify(n),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var n=JSON.parse(this.responseText);if(n.result&&"Error"!==n.result){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);a("tournaments",e)}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send('{"action":"getTournament","arguments":{"active":1}}'),e()}else t("errorMessage",n.message)}},s.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(l),s.send(l)}},{key:"render",value:function(){var e=this,a=this.props.tournament.id+"-join",t=function(a){return function(){var t=e.state.selected.indexOf(a),n=Object(I.a)(e.state.selected);-1===t?n=[a]:n.splice(t,1),e.setState({selected:n})}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained",disabled:0===this.state.teams.length},"Register Team"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:a+"-modal-title"},"Teams Requesting Participation in Tournament"),l.a.createElement(C.a,null,"Choose a team to sign up for a tournament:",l.a.createElement(R.a,null,this.state.teams.map((function(a){var n="checkbox-list-label-".concat(a.name);return l.a.createElement(F.a,{key:a.name,role:void 0,dense:!0,button:!0,onClick:t(a.name)},l.a.createElement(q.a,{id:n,primary:"".concat(a.name)}),l.a.createElement(L.a,null,l.a.createElement(H.a,{edge:"start",checked:-1!==e.state.selected.indexOf(a.name),onChange:t(a.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})))}))),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:a+"-action-submit",onClick:this.submit,color:"primary"},"Register Team"))))}}]),a}(l.a.Component),$=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"render",value:function(){var e=this;console.log(this.props.tournaments);var a=this.props.tournaments.map((function(a){return function(a){var t=[];e.props.loggedUser&&(t=e.props.teams.filter((function(a){return a.founder===e.props.loggedUser.email})));var n=a.teams.map((function(e){return e.name})).join(", "),s=a.referees.map((function(e){return e.email})).join(", ");return l.a.createElement(N.a,{key:a.name},l.a.createElement(W.a,{expandIcon:l.a.createElement(J.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},a.name),l.a.createElement(P.a,null,l.a.createElement("table",{id:"my-table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Max number of teams:")," ",a.capacity),l.a.createElement("td",null,l.a.createElement("b",null,"Age category:")," ",a.ageCategory),l.a.createElement("td",null,l.a.createElement("b",null,"Sex category:")," ","M"===a.sexCategory?"Male":"Female")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Team size:")," ",a.teamSize," players"),l.a.createElement("td",null,l.a.createElement("b",null,"Prize:")," ",a.prizes),l.a.createElement("td",null,l.a.createElement("b",null,"Registration fee:")," ",a.registrationFee," eur")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Referee(s):")," ",s),l.a.createElement("td",null,l.a.createElement("b",null,"Teams:")," ",n))))),e.props.loggedUser&&l.a.createElement(U.a,null,l.a.createElement(G,{tournament:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged,loggedUsersTeams:t}),l.a.createElement(B,{tournament:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged}),(e.props.loggedUser.email===a.founder||"admin"===e.props.loggedUser.nick)&&l.a.createElement(A,{tournament:a,appOnValueChanged:e.props.appOnValueChanged})))}(a)}));return l.a.createElement(X.a,{container:!0,spacing:3},this.props.loggedUser&&l.a.createElement(X.a,{item:!0,xs:12},l.a.createElement(E.a,{display:"flex",css:{float:"right"}},l.a.createElement(D,{loggedUser:this.props.loggedUser,appOnValueChanged:this.props.appOnValueChanged}))),l.a.createElement(X.a,{item:!0,xs:12},a))}}]),a}(l.a.Component),K=function(e){var a=e.id,t=e.state,n=e.onValueChanged;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-name",label:"Name",value:t.name,onChange:function(e){return n("name",e.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"}))},Q=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,name:"",players:["Afghanistan"]},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.create=t.create.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"create",value:function(){var e=this.props.appOnValueChanged,a=this.onValueChanged,t=this.state.name,n={action:"createTeam",arguments:{email:this.props.loggedUser.email,name:t}},l=JSON.stringify(n),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var t=JSON.parse(this.responseText);if(t.result){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("teams",a)}},n.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),n.send('{"action":"getTeam","arguments":{"active":1}}')}else a("errorMessage",t.message)}},s.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),s.send(l)}},{key:"render",value:function(){var e="create";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained",color:"primary"},"Create Team"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Create Team"),l.a.createElement(C.a,null,l.a.createElement(K,{id:e,state:this.state,onValueChanged:this.onValueChanged}),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-create",onClick:this.create,color:"primary"},"Create"))))}}]),a}(l.a.Component),Y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,name:e.team.name,players:e.team.players},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.save=t.save.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"save",value:function(){var e=this.props.appOnValueChanged,a=this.onValueChanged,t=this.state.name;if(t!==this.props.team.name){var n={action:"editTeam",arguments:{name:this.props.team.name,newName:t}},l=JSON.stringify(n),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var t=JSON.parse(this.responseText);if(t.result){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("teams",a)}},n.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),n.send('{"action":"getTeam","arguments":{"active":1}}')}else a("errorMessage",t.message)}},s.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(l),s.send(l)}this.close()}},{key:"render",value:function(){var e=this.props.team.id+"-edit";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained"},"Edit"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Edit Team Details"),l.a.createElement(C.a,null,l.a.createElement(K,{id:e,state:this.state,onValueChanged:this.onValueChanged}),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-save",onClick:this.save,color:"primary"},"Save"))))}}]),a}(l.a.Component),Z=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.join=t.join.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"join",value:function(){var e=this.props.appOnValueChanged,a=this.onValueChanged,t={action:"leaveTeam",arguments:{email:this.props.loggedUser.email,team:this.props.team.name}},n=JSON.stringify(t),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var t=JSON.parse(this.responseText);if(t.result){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("teams",a)}},n.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),n.send('{"action":"getTeam","arguments":{"active":1}}')}else a("errorMessage",t.message)}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(n)}},{key:"render",value:function(){var e=this.props.team.id+"-join";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained",color:"secondary"},"Leave"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Leave Team"),l.a.createElement(C.a,null,"Leave this team?",l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-join",onClick:this.join,color:"secondary"},"Leave"))))}}]),a}(l.a.Component),ee=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.join=t.join.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"join",value:function(){var e=this.props.appOnValueChanged,a=this.onValueChanged,t={action:"joinTeam",arguments:{email:this.props.loggedUser.email,team:this.props.team.name}},n=JSON.stringify(t),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var t=JSON.parse(this.responseText);if(t.result){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("teams",a)}},n.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),n.send('{"action":"getTeam","arguments":{"active":1}}')}else a("errorMessage",t.message)}},l.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),l.send(n)}},{key:"render",value:function(){var e=this.props.team.id+"-join";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained"},"Join"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":e+"-modal",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:e+"-modal-title"},"Request Team Membership"),l.a.createElement(C.a,null,"Join this team?",l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:e+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:e+"-action-join",onClick:this.join,color:"secondary"},"Join"))))}}]),a}(l.a.Component),ae=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"render",value:function(){var e=this,a=this.props.teams.map((function(a){return function(a){var t=a.players.map((function(e){return e.nick})),n=t.join(", ");return l.a.createElement(N.a,{key:a.name},l.a.createElement(W.a,{expandIcon:l.a.createElement(J.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},a.name),l.a.createElement(P.a,null,l.a.createElement("table",{id:"my-table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Players:")," ",n),l.a.createElement("td",null,l.a.createElement("b",null,"Founded:")," ",a.founded))))),e.props.loggedUser&&l.a.createElement(U.a,null,!t.includes(e.props.loggedUser.nick)&&l.a.createElement(ee,{team:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged}),t.includes(e.props.loggedUser.nick)&&l.a.createElement(Z,{team:a,loggedUser:e.props.loggedUser,appOnValueChanged:e.props.appOnValueChanged}),(e.props.loggedUser.email===a.founder||"admin"===e.props.loggedUser.nick)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{team:a,appOnValueChanged:e.props.appOnValueChanged}))))}(a)}));return l.a.createElement(X.a,{container:!0,spacing:3},this.props.loggedUser&&l.a.createElement(X.a,{item:!0,xs:12},l.a.createElement(E.a,{display:"flex",css:{float:"right"}},l.a.createElement(Q,{loggedUser:this.props.loggedUser,appOnValueChanged:this.props.appOnValueChanged}))),l.a.createElement(X.a,{item:!0,xs:12},a))}}]),a}(l.a.Component),te=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={showModal:!1,email:e.player.email,nick:e.player.nick,name:e.player.name,surname:e.player.surname,password:"",gender:e.player.gender,birthDate:e.player.birthDate,country:e.player.country},t.open=t.open.bind(Object(h.a)(t)),t.close=t.close.bind(Object(h.a)(t)),t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t.edit=t.edit.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){"country"===e&&a.length>2&&(a=a.substring(0,2)),this.setState(Object(o.a)({},e,a))}},{key:"close",value:function(){this.setState({showModal:!1,dialogError:void 0})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"edit",value:function(){var e=this.props.appOnValueChanged,a=this.onValueChanged,t=this.state,n=t.email,l=t.nick,s=t.name,r=t.surname,o=t.password,i={email:n,nick:l,name:s,surname:r,gender:t.gender,birthDate:t.birthDate,country:t.country};o.length>0&&(i.password=o);var c={action:"editPlayer",arguments:i},u=JSON.stringify(c),d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){console.log(this.responseText);var t=JSON.parse(this.responseText);if(t.result){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("users",a)}},n.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),n.send('{"action":"getPlayer","arguments":{"active":1}}')}else a("errorMessage",t.message)}},d.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),console.log(u),d.send(u)}},{key:"render",value:function(){var e=this,a=this.props.id+"=registration";return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.open,variant:"contained"},"Edit"),l.a.createElement(y.a,{open:this.state.showModal,onClose:this.close,"aria-labelledby":a+"-dialog",maxWidth:"sm",fullWidth:!0},l.a.createElement(O.a,{id:a+"-dialog-title"},"Edit User"),l.a.createElement(C.a,null,l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-email",label:"Email",value:this.state.email,onChange:function(a){return e.onValueChanged("email",a.target.value)},autoFocus:!0,margin:"dense",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-nick",label:"Nick",value:this.state.nick,onChange:function(a){return e.onValueChanged("nick",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-name",label:"Name",value:this.state.name,onChange:function(a){return e.onValueChanged("name",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-surname",label:"Surname",value:this.state.surname,onChange:function(a){return e.onValueChanged("surname",a.target.value)},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-password",label:"New Password",value:this.state.password,onChange:function(a){return e.onValueChanged("password",a.target.value)},type:"password",fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-gender",select:!0,label:"Gender",value:this.state.gender,onChange:function(a){return e.onValueChanged("gender",a.target.value)},fullWidth:!0},l.a.createElement(k.a,{key:"F",value:"F"},"Female"),l.a.createElement(k.a,{key:"M",value:"M"},"Male"))),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-birthDate",label:"Date of birth",type:"date",value:this.state.birthDate,onChange:function(a){return e.onValueChanged("birthDate",a.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0})),l.a.createElement(E.a,{m:1,component:"span",display:"block"},l.a.createElement(w.a,{id:a+"-country",label:"Country code",value:this.state.country,onChange:function(a){return e.onValueChanged("country",a.target.value)},fullWidth:!0})),l.a.createElement("span",{style:{color:"red"}},this.state.errorMessage&&l.a.createElement("br",null),this.state.errorMessage)),l.a.createElement(v.a,null,l.a.createElement(f.a,{id:a+"-action-close",onClick:this.close,color:"default"},"Close"),l.a.createElement(f.a,{id:a+"-action-edit",onClick:this.edit,color:"primary"},"Save"))))}}]),a}(l.a.Component),ne=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"render",value:function(){var e=this,a=this.props.users.map((function(a){return function(a){if(!a.nick)return null;var t,n=a.teams;return n&&(t=n.join(", ")),l.a.createElement(N.a,{key:a.nick},l.a.createElement(W.a,{expandIcon:l.a.createElement(J.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},a.nick),l.a.createElement(P.a,null,l.a.createElement("table",{id:"my-table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Name:")," ",a.name),l.a.createElement("td",null,l.a.createElement("b",null,"Surname:")," ",a.surname),l.a.createElement("td",null,l.a.createElement("b",null,"Team(s):")," ",t," ")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Country:")," ",a.country),l.a.createElement("td",null,l.a.createElement("b",null,"Born:")," ",a.birthDate),l.a.createElement("td",null,l.a.createElement("b",null,"Sex:")," ","M"===a.gender?"Male":"Female")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Referee rating:")," ",a.refereeRat),l.a.createElement("td",null,l.a.createElement("b",null,"Current player rank:")," ",a.actualPRank),l.a.createElement("td",null,l.a.createElement("b",null,"Highest player rank:")," ",a.highestPRank))))),e.props.loggedUser&&l.a.createElement(U.a,null,(e.props.loggedUser.email===a.email||"admin"===e.props.loggedUser.nick)&&l.a.createElement(te,{id:"edit-user",player:a,appOnValueChanged:e.props.appOnValueChanged})))}(a)}));return l.a.createElement(l.a.Fragment,null,a)}}]),a}(l.a.Component),le=0,se=1,re=2,oe=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={page:0,loggedUser:void 0,users:[],teams:[],tournaments:[]},t.onValueChanged=t.onValueChanged.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onValueChanged",value:function(e,a){this.setState(Object(o.a)({},e,a))}},{key:"componentDidMount",value:function(){var e=this.onValueChanged,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("users",a)}},a.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getPlayer","arguments":{"active":1}}'),(a=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("teams",a)}},a.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getTeam","arguments":{"active":1}}'),(a=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);e("tournaments",a)}},a.open("POST","http://www.stud.fit.vutbr.cz/~xholas09/IIS/backend_api.php",!0),a.send('{"action":"getTournament","arguments":{"active":1}}')}},{key:"render",value:function(){var e=this,a=this.state,t=a.loggedUser,n=a.page,s=a.users,r=a.tournaments,o=a.teams;return console.log(this.state),l.a.createElement("div",{className:"App"},l.a.createElement("div",null,l.a.createElement(p.a,{position:"static"},l.a.createElement(g.a,{"aria-label":"menu",onChange:function(a,t){return e.onValueChanged("page",t)},value:n},l.a.createElement(b.a,{label:"Tournaments"}),l.a.createElement(b.a,{label:"Teams"}),l.a.createElement(b.a,{label:"Players"}))),l.a.createElement(T,{appOnValueChanged:this.onValueChanged,loggedUser:t})),l.a.createElement("header",{className:"App-page"},l.a.createElement("div",{className:"App-content"},n===le&&l.a.createElement($,{tournaments:r,teams:o,users:s,loggedUser:t,appOnValueChanged:this.onValueChanged}),n===se&&l.a.createElement(ae,{tournaments:r,teams:o,users:s,loggedUser:t,appOnValueChanged:this.onValueChanged}),n===re&&l.a.createElement(ne,{tournaments:r,teams:o,users:s,loggedUser:t,appOnValueChanged:this.onValueChanged}))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[84,1,2]]]);
//# sourceMappingURL=main.0ca75e3d.chunk.js.map